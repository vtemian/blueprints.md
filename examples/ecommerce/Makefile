# Makefile for main
# Generated by blueprints.md

.PHONY: help install install-dev setup run dev test clean

help:
	@echo 'Available commands:'
	@echo '  install     - Install production dependencies'
	@echo '  install-dev - Install development dependencies'
	@echo '  setup       - Complete project setup'
	@echo '  run         - Run the application'
	@echo '  dev         - Run in development mode'
	@echo '  test        - Run tests'
	@echo '  clean       - Clean up generated files'

requirements.txt:
	@echo 'Generating requirements.txt...'
	@echo '# Production dependencies' > requirements.txt
	@echo 'fastapi' >> requirements.txt
	@echo 'uvicorn' >> requirements.txt
	@echo 'sqlalchemy' >> requirements.txt
	@echo 'pydantic' >> requirements.txt
	@echo 'python-dotenv' >> requirements.txt
	@echo 'stripe' >> requirements.txt
	@echo 'celery' >> requirements.txt
	@echo 'redis' >> requirements.txt
	@echo 'pytest' >> requirements.txt
	@echo 'alembic' >> requirements.txt

install: requirements.txt
	@echo 'Installing production dependencies...'
	pip install -r requirements.txt

setup: install
	@echo 'Project setup complete!'
	@echo 'Environment variables to set:'

run:
	@echo 'Starting main...'
	python -m main

dev:
	@echo 'Starting main in development mode...'
	python -m main --reload

test:
	@echo 'Running tests...'
	pytest

clean:
	@echo 'Cleaning up...'
	find . -type f -name '*.pyc' -delete
	find . -type d -name '__pycache__' -delete
	rm -f requirements.txt requirements-dev.txt
